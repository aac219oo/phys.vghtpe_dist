import{a as W,b as H,c as q}from"./chunk-MGYSTZCA.js";import"./chunk-4Q5JBTJ2.js";import{a as U}from"./chunk-TUGMVAIQ.js";import{c as $,d as z,e as k}from"./chunk-USBDKGM5.js";import{a as B}from"./chunk-6EYC5ZPJ.js";import{a as V}from"./chunk-44XWPHLD.js";import"./chunk-DDGGW3FN.js";import{$ as w,Ga as r,H as _,Na as g,Pb as D,Qb as j,S as v,Sa as p,Ta as a,Ua as u,Ub as M,W as C,Wb as O,X as I,Ya as b,aa as y,cc as F,db as E,dc as L,ec as R,fb as c,kb as l,lb as N,mb as f,pa as P,sb as x,va as o,vb as S,wa as d,wb as T}from"./chunk-FMEZNCYJ.js";function Q(e,t){e&1&&(p(0,"div",9),l(1,"News"),a())}function Z(e,t){if(e&1&&u(0,"img",20),e&2){let i=c().$implicit;r("src",i.Column1,P)}}function ee(e,t){if(e&1&&u(0,"my-youtube-player",21),e&2){let i=c().$implicit,n=c();r("videoID",n.getVideoID(i.youtube))}}function te(e,t){if(e&1&&(p(0,"h1",22),l(1),a()),e&2){let i=c().$implicit;o(),f(" ",i.title," ")}}function ie(e,t){if(e&1&&(p(0,"h1",22),l(1),a()),e&2){let i=c().$implicit;o(),f(" ",i.en_title," ")}}function ne(e,t){if(e&1&&(p(0,"p",23),l(1),a()),e&2){let i=c().$implicit;o(),f(" ",i.content," ")}}function oe(e,t){if(e&1&&(p(0,"p",23),l(1),a()),e&2){let i=c().$implicit;o(),f(" ",i.en_content," ")}}var A=e=>["/detail",e];function re(e,t){if(e&1&&(p(0,"div",10)(1,"a",11),g(2,Z,1,1,"img",12)(3,ee,1,1,"my-youtube-player",13),a(),p(4,"div",14)(5,"p",15),l(6),a(),g(7,te,2,1,"h1",16)(8,ie,2,1,"h1",16)(9,ne,2,1,"p",17)(10,oe,2,1,"p",17),p(11,"a",18),u(12,"img",19),a()()()),e&2){let i=t.$implicit,n=c();o(),r("routerLink",x(9,A,i.id)),o(),r("ngIf",i.Column1),o(),r("ngIf",i.youtube),o(3),f(" ",i.dates," "),o(),r("ngIf",n.las.lang==="zh-TW"),o(),r("ngIf",n.las.lang==="en"),o(),r("ngIf",n.las.lang==="zh-TW"),o(),r("ngIf",n.las.lang==="en"),o(),r("routerLink",x(11,A,i.id))}}function ae(e,t){if(e&1){let i=b();p(0,"app-pagination",24),E("pageChanged",function(s){w(i);let m=c();return y(m.onPageChanged(s))}),a()}if(e&2){let i=c();r("pageCount",i.pageCount)("currentPageIndex",i.currentPageIndex)("justify","center")}}var X=(()=>{let t=class t{constructor(n,s,m,Y,G,J){this.http=n,this.ut=s,this.ns=m,this.las=Y,this.localService=G,this.Router=J,this.imageBaseUrl="",this.lang="",this.newsData=[],this.columns=[],this.total=0,this.recordsPerPage=6,this.currentPageIndex=0,this.pageCount=100,this.searching=!0,this.hasError=!1,this.ns.getNews().pipe(_(1)).subscribe({next:h=>{this.newsData=h,this.searching=!1,this.ini()},error:h=>{console.error("Error fetching data from ASPX:",h),this.hasError=!0}})}ngOnInit(){}getImageUrl(n){return console.log(n),this.imageBaseUrl+n}ini(){this.pageCount=Math.ceil(this.newsData.length/this.recordsPerPage),this.columns=this.newsData.filter((n,s)=>s>=this.currentPageIndex*this.recordsPerPage&&s<=(this.currentPageIndex+1)*this.recordsPerPage-1)}onPageChanged(n){this.currentPageIndex=n,this.ini(),this.Router.navigate([],{queryParams:{page:this.currentPageIndex}})}showPagination(n){return!n&&this.newsData.length>0}getVideoID(n){return this.ut.getVideoID(n)}};t.\u0275fac=function(s){return new(s||t)(d(O),d(B),d(U),d(k),d(V),d(F))},t.\u0275cmp=C({type:t,selectors:[["news"]],decls:12,vars:6,consts:[[1,"title-pic"],[1,"title-pic-text-box"],[1,"title-pic-text-box-CH"],[1,"d-flex","flex-column","justify-content-center","flex-sm-row"],["class","title-pic-text-box-EN",4,"ngIf"],[1,"container-fluid","mb-5"],[1,"news","content","mb-4"],["class","news-box",4,"ngFor","ngForOf"],[3,"pageCount","currentPageIndex","justify","pageChanged",4,"ngIf"],[1,"title-pic-text-box-EN"],[1,"news-box"],[1,"news-media-box",3,"routerLink"],["alt","","class","news-pic",3,"src",4,"ngIf"],["class","news-pic",3,"videoID",4,"ngIf"],[1,"news-card-body"],[1,"news-date"],["class","news-title",4,"ngIf"],["class","news-content",4,"ngIf"],[3,"routerLink"],["src","../assets/images/MORE.png","alt",""],["alt","",1,"news-pic",3,"src"],[1,"news-pic",3,"videoID"],[1,"news-title"],[1,"news-content"],[3,"pageCount","currentPageIndex","justify","pageChanged"]],template:function(s,m){s&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),l(5),S(6,"translate"),a()()(),g(7,Q,2,0,"div",4),a()(),p(8,"div",5)(9,"div",6),g(10,re,13,13,"div",7),a(),g(11,ae,1,3,"app-pagination",8),a()),s&2&&(o(5),N(T(6,4,"menu_items.news")),o(2),r("ngIf",m.las.lang==="zh-TW"),o(3),r("ngForOf",m.columns),o(),r("ngIf",m.showPagination(m.searching)))},dependencies:[D,j,H,W,L,$],styles:[".team[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;top:35%;left:50%;font-size:3.125rem;color:#fff;transform:translate(-50%);font-weight:900}.team[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;top:65%;left:50%;font-size:3.125rem;color:#fff;transform:translate(-50%)}"]});let e=t;return e})();var Pe=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=I({type:t}),t.\u0275inj=v({imports:[M,q,z,R.forChild([{path:"",component:X}])]});let e=t;return e})();export{Pe as NewsModule};
