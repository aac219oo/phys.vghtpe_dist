import{c as S,d as F}from"./chunk-USBDKGM5.js";import{$ as C,Ba as d,Fa as E,Ga as s,Na as v,Ob as L,Pb as A,Qb as D,S as T,Sa as l,Ta as c,Ua as m,Ub as N,W as y,X as b,Ya as x,aa as P,db as g,fb as u,kb as h,lb as V,mb as _,sb as f,ub as M,va as o,vb as k,wb as w}from"./chunk-FMEZNCYJ.js";var I=n=>({disabled:n});function Y(n,i){if(n&1){let a=x();l(0,"li",2)(1,"a",7),g("click",function(){C(a);let e=u();return P(e.first())}),m(2,"i",8),h(3," 1 "),c()()}if(n&2){let a=u();s("ngClass",f(1,I,a.currentPageIndex==0))}}var j=n=>({active:n});function R(n,i){if(n&1){let a=x();l(0,"li",2)(1,"a",7),g("click",function(){let r=C(a).$implicit,p=u();return P(p.setNewPage(r))}),h(2),c()()}if(n&2){let a=i.$implicit,t=u();s("ngClass",f(2,j,a==t.currentPageIndex)),o(2),V(a+1)}}function z(n,i){if(n&1){let a=x();l(0,"li",2)(1,"a",7),g("click",function(){C(a);let e=u();return P(e.last())}),h(2),m(3,"i",9),c()()}if(n&2){let a=u();s("ngClass",f(2,I,a.currentPageIndex==a.pageCount-1)),o(2),_(" ",a.pageCount," ")}}var B=(n,i,a)=>({"justify-content-center":n,"justify-content-end":i,"pagination-sm":a}),K=(()=>{let i=class i{constructor(){this.pageCount=5,this.currentPageIndex=0,this.maxLinkCount=5,this.justify="",this.numLinkArr=[],this.isSmall=!1,this.pageChanged=new d}ngOnInit(){window.addEventListener("resize",()=>{this.resize()}),this.resize()}ngAfterViewChecked(){this.numLinkArr=this.makeLinkArr()}resize(){var t=window.innerWidth;this.isSmall=t<576}makeLinkArr(){var t;if(this.pageCount<=this.maxLinkCount)t=Array(this.pageCount).fill(0).map((r,p)=>p);else{var e=0;this.currentPageIndex<=Math.floor(this.maxLinkCount/2)?e=0:this.currentPageIndex>=this.pageCount-Math.ceil(this.maxLinkCount/2)?e=this.pageCount-this.maxLinkCount:e=this.currentPageIndex-Math.floor(this.maxLinkCount/2),t=Array(this.maxLinkCount).fill(0).map((r,p)=>e+p)}return t}setNewPage(t){try{this.currentPageIndex=t,this.numLinkArr=this.makeLinkArr(),this.pageChanged.emit(this.currentPageIndex)}catch{}}first(){try{this.setNewPage(0)}catch{}}last(){try{this.setNewPage(this.pageCount-1)}catch{}}pre(){try{this.setNewPage(this.currentPageIndex-1)}catch{}}next(){try{this.setNewPage(this.currentPageIndex+1)}catch{}}showEndPoint(){return this.pageCount>this.maxLinkCount}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=y({type:i,selectors:[["app-pagination"]],inputs:{pageCount:"pageCount",currentPageIndex:"currentPageIndex",maxLinkCount:"maxLinkCount",justify:"justify"},outputs:{pageChanged:"pageChanged"},decls:15,vars:20,consts:[[1,"pagination",3,"ngClass"],["class","page-item",3,"ngClass",4,"ngIf"],[1,"page-item",3,"ngClass"],[1,"page-link","text-light","arrow",3,"click"],[1,"bi","bi-caret-left-fill"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"bi","bi-caret-right-fill"],[1,"page-link",3,"click"],[1,"bi","bi-chevron-bar-left"],[1,"bi","bi-chevron-bar-right"]],template:function(e,r){e&1&&(l(0,"nav")(1,"ul",0),v(2,Y,4,3,"li",1),l(3,"li",2)(4,"a",3),g("click",function(){return r.pre()}),h(5),k(6,"translate"),m(7,"i",4),c()(),v(8,R,3,4,"li",5),l(9,"li",2)(10,"a",3),g("click",function(){return r.next()}),h(11),k(12,"translate"),m(13,"i",6),c()(),v(14,z,4,4,"li",1),c()()),e&2&&(o(),s("ngClass",M(12,B,r.justify=="center",r.justify=="right",r.isSmall)),o(),s("ngIf",r.showEndPoint()),o(),s("ngClass",f(16,I,r.currentPageIndex==0)),o(2),_(" ",w(6,8,"pagination.prev")," "),o(3),s("ngForOf",r.numLinkArr),o(),s("ngClass",f(18,I,r.currentPageIndex==r.pageCount-1)),o(2),_(" ",w(12,10,"pagination.next")," "),o(3),s("ngIf",r.showEndPoint()))},dependencies:[L,A,D,S],styles:[".arrow[_ngcontent-%COMP%]{background-color:#78909c}.arrow[_ngcontent-%COMP%]:hover{background-color:#b0bec5;color:#fff}.page-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.page-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:default}.page-item.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:default;background-color:#eceff1;color:#cfd8dc!important}"]});let n=i;return n})();var ee=(()=>{let i=class i{constructor(){this.video="",this.start=0,this.w=window,this.playerID="player_"+Math.ceil(Math.random()*1e4),this.timeChange=new d,this.playerReady=new d,this.stateChange=new d}ini(){this.loadAPI(),this.w.onYouTubeIframeAPIReady||(this.w.onYouTubeIframeAPIReady=t=>{this.youTubeReady()})}ngOnInit(){}ngAfterViewInit(){this.ini()}loadAPI(){var t=document.getElementById("api");if(t)this.youTubeReady();else{var e=document.createElement("script");e.id="api",e.src="/api/youtube/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode&&r.parentNode.insertBefore(e,r)}}youTubeReady(){this.YT=this.w.YT,this.w.YT&&(this.player=new this.w.YT.Player(this.playerID,{videoId:this.video,playerVars:{autoplay:0,rel:1,controls:1,start:this.start},events:{onReady:t=>{}}}))}onPlayerStateChange(t){var e;switch(t.data){case this.YT.PlayerState.PLAYING:e="PLAYING";break;case this.YT.PlayerState.PAUSED:e="PAUSED";break;case this.YT.PlayerState.ENDED:e="ENDED";break}this.stateChange.emit(e)}loadVideoById(t,e){e==0&&(e=1),this.player.loadVideoById({videoId:t,startSeconds:e})}playVideo(){this.player.playVideo()}playVideoFrom(t){this.seekTo(t,!0),this.playVideo()}pauseVideo(){this.player.pauseVideo()}stopVideo(){this.player.stopVideo()}seekTo(t,e){this.player.seekTo(t,e)}startTimeChange(){this.intervalID=setInterval(()=>{this.onTimeChange()},30)}stopTimeChange(){clearInterval(this.intervalID)}getVideoData(){return this.player.getVideoData()}get currentTime(){return Math.round(this.player.getCurrentTime())}get isPlaying(){return this.player.getPlayerState()==1}onTimeChange(){this.timeChange.emit(this.currentTime)}onPlayerError(t){switch(t.data){case 2:console.error("\u8ACB\u6C42\u5305\u542B\u7121\u6548\u7684\u53C3\u6578\u503C\uFF1A"+this.video);break;case 100:console.error("\u627E\u4E0D\u5230\u8ACB\u6C42\u7684\u5F71\u7247\u3002");break;case 101:console.error("\u5F71\u7247\u6240\u6709\u8005\u4E0D\u5141\u8A31\u5728\u5D4C\u5165\u5F0F\u64AD\u653E\u5668\u4E2D\u64AD\u653E\u3002");break}}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=y({type:i,selectors:[["my-youtube-player"]],inputs:{video:["videoID","video"],start:"start"},outputs:{timeChange:"timeChange",playerReady:"playerReady",stateChange:"stateChange"},decls:2,vars:1,consts:[[1,"yt-container"]],template:function(e,r){e&1&&(l(0,"div",0),m(1,"div"),c()),e&2&&(o(),E("id",r.playerID))},encapsulation:2});let n=i;return n})();var ue=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=b({type:i}),i.\u0275inj=T({imports:[N,F]});let n=i;return n})();export{ee as a,K as b,ue as c};
