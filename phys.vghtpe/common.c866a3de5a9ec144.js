"use strict";(self.webpackChunkmy_new_project=self.webpackChunkmy_new_project||[]).push([[592],{4568:(p,h,o)=>{o.d(h,{l:()=>c});var s=o(553),l=o(4966),i=o(1314);let c=(()=>{class t{constructor(r){this.http=r,this.apiUrl=s.N.ApiUrl+"API/health_package.aspx",this.CompareApiUrl=s.N.ApiUrl+"API/health_package_compare.aspx",this.fakeData="../../assets/json/compare-fakeData.json",this.colors=["#1486CF","#AD6072","#DAA621"]}getHealthPackages(){return this.http.get(this.apiUrl)}getColor(r){return this.colors[(r-1)%this.colors.length]}getComparePackages(r){const a=r.slice(0,3);return this.http.get(`${this.CompareApiUrl}?compare_id[]=${a.join("&compare_id[]=")}`)}static#e=this.\u0275fac=function(a){return new(a||t)(l.LFG(i.eN))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},1948:(p,h,o)=>{o.d(h,{D:()=>t});var s=o(8132),l=o(553),i=o(4966),c=o(1314);let t=(()=>{class e{constructor(a){this.http=a,this.apiUrlBase=l.N.ApiUrl+"/API/HealthPackage/GetReservationCount",this.fakeData="../../assets/json/reservationDate-fakeData.json",this.selectedItems=[]}getGUIDFromCookie(){const d=decodeURIComponent(document.cookie).split(";");for(let u=0;u<d.length;u++){let _=d[u].trim();if(0===_.indexOf("reserveStep1_GUID="))return _.substring(18,_.length)}return null}getReservationCount(){const a=this.getGUIDFromCookie();return a?this.http.get(`${this.apiUrlBase}?GUID=${a}`):(console.error("GUID not found in cookies"),this.http.get(this.fakeData))}addSelectedItem(a){this.selectedItems.push(a)}getSelectedItems(){return this.selectedItems}uploadReserve(a){const n=this.getGUIDFromCookie();return n?this.http.patch(this.apiUrlBase,{GUID:n,Reservation_date:a.date,Reservation_count:a.Reservation_count}):(console.error("GUID not found in cookies"),new s.y(d=>{d.error("GUID not found in cookies")}))}static#e=this.\u0275fac=function(n){return new(n||e)(i.LFG(c.eN))};static#t=this.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},19:(p,h,o)=>{o.d(h,{m:()=>t});var s=o(6733),l=o(6646),i=o(4503),c=o(4966);let t=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=c.oAB({type:e});static#a=this.\u0275inj=c.cJS({imports:[s.ez,i.aw,l.Bz]})}return e})()},8473:(p,h,o)=>{o.d(h,{O:()=>l});var s=o(4966);let l=(()=>{class i{constructor(){this.video="",this.start=0,this.w=window,this.playerID="player_"+Math.ceil(1e4*Math.random()),this.timeChange=new s.vpe,this.playerReady=new s.vpe,this.stateChange=new s.vpe}ini(){this.loadAPI(),this.w.onYouTubeIframeAPIReady||(this.w.onYouTubeIframeAPIReady=t=>{this.youTubeReady()})}ngOnInit(){}ngAfterViewInit(){this.ini()}loadAPI(){if(document.getElementById("api"))this.youTubeReady();else{var e=document.createElement("script");e.id="api",e.src="/api/youtube/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode&&r.parentNode.insertBefore(e,r)}}youTubeReady(){this.YT=this.w.YT,this.w.YT&&(this.player=new this.w.YT.Player(this.playerID,{videoId:this.video,playerVars:{autoplay:0,rel:1,controls:1,start:this.start},events:{onReady:t=>{}}}))}onPlayerStateChange(t){var e;switch(t.data){case this.YT.PlayerState.PLAYING:e="PLAYING";break;case this.YT.PlayerState.PAUSED:e="PAUSED";break;case this.YT.PlayerState.ENDED:e="ENDED"}this.stateChange.emit(e)}loadVideoById(t,e){0==e&&(e=1),this.player.loadVideoById({videoId:t,startSeconds:e})}playVideo(){this.player.playVideo()}playVideoFrom(t){this.seekTo(t,!0),this.playVideo()}pauseVideo(){this.player.pauseVideo()}stopVideo(){this.player.stopVideo()}seekTo(t,e){this.player.seekTo(t,e)}startTimeChange(){this.intervalID=setInterval(()=>{this.onTimeChange()},30)}stopTimeChange(){clearInterval(this.intervalID)}getVideoData(){return this.player.getVideoData()}get currentTime(){return Math.round(this.player.getCurrentTime())}get isPlaying(){return 1==this.player.getPlayerState()}onTimeChange(){this.timeChange.emit(this.currentTime)}onPlayerError(t){switch(t.data){case 2:console.error("\u8acb\u6c42\u5305\u542b\u7121\u6548\u7684\u53c3\u6578\u503c\uff1a"+this.video);break;case 100:console.error("\u627e\u4e0d\u5230\u8acb\u6c42\u7684\u5f71\u7247\u3002");break;case 101:console.error("\u5f71\u7247\u6240\u6709\u8005\u4e0d\u5141\u8a31\u5728\u5d4c\u5165\u5f0f\u64ad\u653e\u5668\u4e2d\u64ad\u653e\u3002")}}static#e=this.\u0275fac=function(e){return new(e||i)};static#t=this.\u0275cmp=s.Xpm({type:i,selectors:[["my-youtube-player"]],inputs:{video:["videoID","video"],start:"start"},outputs:{timeChange:"timeChange",playerReady:"playerReady",stateChange:"stateChange"},decls:2,vars:1,consts:[[1,"yt-container"]],template:function(e,r){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div"),s.qZA()),2&e&&(s.xp6(),s.uIk("id",r.playerID))},encapsulation:2})}return i})()}}]);